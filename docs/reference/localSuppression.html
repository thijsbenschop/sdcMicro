<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Local Suppression to obtain k-anonymity — localSuppression • sdcMicro</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
<meta property="og:title" content="Local Suppression to obtain k-anonymity — localSuppression" />

<meta property="og:description" content="Algorithm to achieve k-anonymity by performing local suppression." />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sdcMicro</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">5.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/sdcMicro.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/sdcTools/sdcMicro">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Local Suppression to obtain k-anonymity</h1>
    <small>Source: <a href='https://github.com/sdcTools/sdcMicro/blob/master/R/localSuppression.R'><code>R/localSuppression.R</code></a></small>
    </div>

    
    <p>Algorithm to achieve k-anonymity by performing local suppression.</p>
    

    <pre class="usage"><span class='fu'>localSuppression</span>(<span class='no'>obj</span>, <span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>importance</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>combs</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='fu'>kAnon</span>(<span class='no'>obj</span>, <span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>importance</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>combs</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>obj</th>
      <td><p>a <code>sdcMicroObj-class</code>-object or a <code>data.frame</code></p></td>
    </tr>
    <tr>
      <th>k</th>
      <td><p>threshold for k-anonymity</p></td>
    </tr>
    <tr>
      <th>importance</th>
      <td><p>numeric vector of numbers between 1 and n (n=length of
vector keyVars).  This vector represents the "importance" of variables that
should be used for local suppression in order to obtain k-anonymity.
key-variables with importance=1 will - if possible - not suppressed,
key-variables with importance=n will be used whenever possible.</p></td>
    </tr>
    <tr>
      <th>combs</th>
      <td><p>numeric vector. if specified, the algorithm will provide k-anonymity
for each combination of n key variables (with n being the value of the ith element
of this parameter. For example, if combs=c(4,3), the algorithm will provide
k-anonymity to all combinations of 4 key variables and then k-anonymity to all
combinations of 3 key variables. It is possible to apply different k to these
subsets by specifying k as a vector. If k has only one element, the same value
of k will be used for all subgroups.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>see arguments below</p><ul>
<li><p>keyVars: names (or indices) of categorical key variables (for data-frame method)</p></li>
<li><p>strataVars: name (or index) of variable which is used for stratification purposes, used
in the data.frame method. This means that k-anonymity is provided within each category
of the specified variable.</p></li>
<li><p>alpha: numeric value between 0 and 1 specifying how much keys that
contain missing values (<code>NAs</code>) should contribute to the calculation
of <code>fk</code> and <code>Fk</code>. For the default value of <code>1</code>, nothing changes with
respect to the implementation in prior versions. Each <em>wildcard-match</em> would
be counted while for <code>alpha=0</code> keys with missing values would be basically ignored.
Used in the data-frame method only because in the method for <code>sdcMicroObj-class</code>-objects,
this value is extracted from slot <code>options</code>.</p></li>
</ul></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Manipulated data set with suppressions that has k-anonymity with
respect to specified key-variables or the manipulated data stored in the
<code>sdcMicroObj-class</code>.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The algorithm provides a k-anonymized data set by suppressing values in key
variables. The algorithm tries to find an optimal solution to suppress as
few values as possible and considers the specified importance vector. If not
specified, the importance vector is constructed in a way such that key
variables with a high number of characteristics are considered less
important than key variables with a low number of characteristics.</p>
<p>The implementation provides k-anonymity per strata, if slot 'strataVar' has
been set in <code>sdcMicroObj-class</code> or if parameter 'strataVar' is
used when appying the data.frame method. For details, have a look
at the examples provided.</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>Deprecated methods 'localSupp2' and 'localSupp2Wrapper' are no longer available
in sdcMicro &gt; 4.5.0.
<code>kAnon</code> is a more intutitive term for localSuppression because the aim is always
to obtain k-anonymity for some parts of the data.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Templ, M. Statistical Disclosure Control for Microdata: Methods and Applications in R.
<em>Springer International Publishing</em>, 287 pages, 2017. ISBN 978-3-319-50272-4.
doi: <a href='http://doi.org/10.1007/978-3-319-50272-4'>10.1007/978-3-319-50272-4</a></p>
<p>Templ, M. and Kowarik, A. and Meindl, B.
Statistical Disclosure Control for Micro-Data Using the R Package sdcMicro.
<em>Journal of Statistical Software</em>, <strong>67</strong> (4), 1--36, 2015. doi: <a href='http://doi.org/10.18637/jss.v067.i04'>10.18637/jss.v067.i04</a></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>data</span>(<span class='no'>francdat</span>)
<span class='co'>## Local Suppression</span>
<span class='no'>localS</span> <span class='kw'>&lt;-</span> <span class='fu'>localSuppression</span>(<span class='no'>francdat</span>, <span class='kw'>keyVar</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>4</span>,<span class='fl'>5</span>,<span class='fl'>6</span>))
<span class='no'>localS</span></div><div class='output co'>#&gt; 
#&gt; -----------------------
#&gt; Total number of suppressions in the key variables: 4 (new: 4)
#&gt; 
#&gt; Number of suppressions by key variables:
#&gt; (in parenthesis, the total number suppressions is shown)
#&gt; 
#&gt;    Key2  Key3  Key4
#&gt; 1 1 (1) 0 (0) 3 (3)
#&gt; 
#&gt; 2-anonymity == TRUE
#&gt; -----------------------</div><div class='input'><span class='fu'>plot</span>(<span class='no'>localS</span>)</div><div class='img'><img src='localSuppression-1.png' alt='' width='700' height='433' /></div><span class='co'># NOT RUN {</span>
<span class='co'>## for objects of class sdcMicro, no stratification</span>
<span class='fu'>data</span>(<span class='no'>testdata2</span>)
<span class='no'>sdc</span> <span class='kw'>&lt;-</span> <span class='fu'>createSdcObj</span>(<span class='no'>testdata2</span>,
  <span class='kw'>keyVars</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='st'>'urbrur'</span>,<span class='st'>'roof'</span>,<span class='st'>'walls'</span>,<span class='st'>'water'</span>,<span class='st'>'electcon'</span>,<span class='st'>'relat'</span>,<span class='st'>'sex'</span>),
  <span class='kw'>numVars</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='st'>'expend'</span>,<span class='st'>'income'</span>,<span class='st'>'savings'</span>), <span class='kw'>w</span><span class='kw'>=</span><span class='st'>'sampling_weight'</span>)
<span class='no'>sdc</span> <span class='kw'>&lt;-</span> <span class='fu'>localSuppression</span>(<span class='no'>sdc</span>)

<span class='co'>## for objects of class sdcMicro, no with stratification</span>
<span class='no'>testdata2</span>$<span class='no'>ageG</span> <span class='kw'>&lt;-</span> <span class='fu'>cut</span>(<span class='no'>testdata2</span>$<span class='no'>age</span>, <span class='fl'>5</span>, <span class='kw'>labels</span><span class='kw'>=</span><span class='fu'>paste0</span>(<span class='st'>"AG"</span>,<span class='fl'>1</span>:<span class='fl'>5</span>))
<span class='no'>sdc</span> <span class='kw'>&lt;-</span> <span class='fu'>createSdcObj</span>(<span class='no'>testdata2</span>,
  <span class='kw'>keyVars</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='st'>'urbrur'</span>,<span class='st'>'roof'</span>,<span class='st'>'walls'</span>,<span class='st'>'water'</span>,<span class='st'>'electcon'</span>,<span class='st'>'relat'</span>,<span class='st'>'sex'</span>),
  <span class='kw'>numVars</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='st'>'expend'</span>,<span class='st'>'income'</span>,<span class='st'>'savings'</span>), <span class='kw'>w</span><span class='kw'>=</span><span class='st'>'sampling_weight'</span>,
  <span class='kw'>strataVar</span><span class='kw'>=</span><span class='st'>'ageG'</span>)
<span class='no'>sdc</span> <span class='kw'>&lt;-</span> <span class='fu'>localSuppression</span>(<span class='no'>sdc</span>)

<span class='co'>## it is also possible to provide k-anonymity for subsets of key-variables</span>
<span class='co'>## with different parameter k!</span>
<span class='co'>## in this case we want to provide 10-anonymity for all combinations</span>
<span class='co'>## of 5 key variables, 20-anonymity for all combinations with 4 key variables</span>
<span class='co'>## and 30-anonymity for all combinations of 3 key variables.</span>
<span class='co'>## note: stratas are automatically considered!</span>
<span class='no'>combs</span> <span class='kw'>&lt;-</span> <span class='fl'>5</span>:<span class='fl'>3</span>
<span class='no'>k</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='fl'>10</span>,<span class='fl'>20</span>,<span class='fl'>30</span>)
<span class='no'>sdc</span> <span class='kw'>&lt;-</span> <span class='fu'>localSuppression</span>(<span class='no'>sdc</span>, <span class='kw'>k</span><span class='kw'>=</span><span class='no'>k</span>, <span class='kw'>combs</span><span class='kw'>=</span><span class='no'>combs</span>)

<span class='co'>## data.frame method (no stratification)</span>
<span class='no'>keyVars</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='st'>"urbrur"</span>,<span class='st'>"roof"</span>,<span class='st'>"walls"</span>,<span class='st'>"water"</span>,<span class='st'>"electcon"</span>,<span class='st'>"relat"</span>,<span class='st'>"sex"</span>)
<span class='no'>strataVars</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='st'>"ageG"</span>)
<span class='no'>inp</span> <span class='kw'>&lt;-</span> <span class='no'>testdata2</span>[,<span class='fu'>c</span>(<span class='no'>keyVars</span>, <span class='no'>strataVars</span>)]
<span class='no'>ls</span> <span class='kw'>&lt;-</span> <span class='fu'>localSuppression</span>(<span class='no'>inp</span>, <span class='kw'>keyVars</span><span class='kw'>=</span><span class='fl'>1</span>:<span class='fl'>7</span>)
<span class='fu'>print</span>(<span class='no'>ls</span>)
<span class='fu'>plot</span>(<span class='no'>ls</span>)

<span class='co'>## data.frame method (with stratification)</span>
<span class='no'>ls</span> <span class='kw'>&lt;-</span> <span class='fu'>kAnon</span>(<span class='no'>inp</span>, <span class='kw'>keyVars</span><span class='kw'>=</span><span class='fl'>1</span>:<span class='fl'>7</span>, <span class='kw'>strataVars</span><span class='kw'>=</span><span class='fl'>8</span>)
<span class='fu'>print</span>(<span class='no'>ls</span>)
<span class='fu'>plot</span>(<span class='no'>ls</span>, <span class='kw'>showTotalSupps</span><span class='kw'>=</span><span class='fl'>TRUE</span>)
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#references">References</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Bernhard Meindl, Matthias Templ

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Bernhard Meindl, Alexander Kowarik, Matthias Templ.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>

